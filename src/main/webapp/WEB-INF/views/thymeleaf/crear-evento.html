<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <title>Crear Evento</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <script src="https://kit.fontawesome.com/a2e0e9a6de.js" crossorigin="anonymous"></script> <!-- Para íconos -->
</head>
<body class="bg-light">

<div class="container py-5">
  <h2 class="mb-4"><i class="fas fa-calendar-plus me-2 text-primary"></i>Crear nuevo evento</h2>

  <form th:action="@{/crear-evento/{idComunidad}(idComunidad=${id})}" th:object="${evento}" method="POST" class="needs-validation" novalidate>
    <div class="row g-3">

      <div class="col-md-6">
        <label for="nombre" class="form-label">Nombre del evento</label>
        <input type="text"  th:field="*{nombre}" class="form-control" id="nombre" name="nombre" placeholder="Ej: Lollapalooza 2025" required>
        <div class="invalid-feedback">Este campo es obligatorio.</div>
      </div>

      <div class="col-md-6">
        <label for="url" class="form-label">URL del evento</label>
        <input type="url"  th:field="*{url}" class="form-control" id="url" name="url" placeholder="https://..." required>
        <div class="invalid-feedback">Ingresá una URL válida.</div>
      </div>

      <div class="col-md-6">
        <label for="fecha" class="form-label">Fecha</label>
        <input type="date" th:field="*{fecha}" class="form-control" id="fecha" name="fecha" required>
        <div class="invalid-feedback">Seleccioná una fecha.</div>
      </div>

      <div class="col-md-6">
        <label for="lugar" class="form-label">Lugar</label>
        <input type="text"  th:field="*{lugar}" class="form-control" id="lugar" name="lugar" placeholder="Ej: Estadio River Plate" required>
        <div class="invalid-feedback">Este campo es obligatorio.</div>
      </div>

      <div class="col-md-6">
        <label for="ciudad" class="form-label">Ciudad</label>
        <input type="text"  th:field="*{ciudad}" class="form-control" id="ciudad" name="ciudad" placeholder="Ej: Buenos Aires" required>
        <div class="invalid-feedback">Ingresá la ciudad.</div>
      </div>

      <div class="col-md-6">
        <label for="pais" class="form-label">País</label>
        <select class="form-select" th:field="*{pais}" id="pais" name="pais" required>
          <option value="">Seleccionar país</option>
          <option value="Argentina">Argentina</option>
          <option value="Estados Unidos">Estados Unidos</option>
          <option value="España">España</option>
          <option value="México">México</option>
          <option value="Brasil">Brasil</option>
          <option value="Chile">Chile</option>
          <option value="Colombia">Colombia</option>
          <option value="Francia">Francia</option>
        </select>
        <div class="invalid-feedback">Seleccioná un país.</div>
      </div>

      <div class="col-12">
        <label for="imagen" class="form-label">Imagen del evento (URL)</label>
        <input type="url"  th:field="*{imagen}" class="form-control" id="imagen" name="imagen" placeholder="https://..." required>
        <div class="invalid-feedback">Ingresá una URL de imagen válida.</div>
      </div>

    </div>

    <div class="mt-4 d-flex justify-content-between">
      <a href="/eventos" class="btn btn-secondary"><i class="fas fa-arrow-left me-1"></i> Volver</a>
      <button class="btn btn-success" type="submit"><i class="fas fa-check me-1"></i> Guardar evento</button>
    </div>
  </form>
</div>

<script>
  // Validación de formulario Bootstrap
  (() => {
    'use strict'
    const forms = document.querySelectorAll('.needs-validation')
    Array.from(forms).forEach(form => {
      form.addEventListener('submit', event => {
        if (!form.checkValidity()) {
          event.preventDefault()
          event.stopPropagation()
        }
        form.classList.add('was-validated')
      }, false)
    })
  })()
</script>

</body>
</html>
